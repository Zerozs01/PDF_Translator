# üöÄ MangaTranslate Rebirth

**Next-Gen Local OCR & Manga Translation Engine**

‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏¢‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà (Rebirth) ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡πÅ‡∏¢‡∏∞‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ ‡πÇ‡∏î‡∏¢‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÅ‡∏ö‡∏ö Offline 100% ‡πÅ‡∏•‡∏∞‡∏°‡∏µ UI ‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î

> üìã ‡∏î‡∏π [CHANGELOG.md](./CHANGELOG.md) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï

## üéØ Vision & Goals

- **Zero-Latency UI:** ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏´‡∏ô‡∏±‡∏Å‡πÜ ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Main Thread ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏≠‡∏õ‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î
- **Edge-to-Edge Workspace:** UI ‡πÅ‡∏ö‡∏ö File Explorer ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏ö Sidebar ‡πÑ‡∏î‡πâ‡∏™‡∏ô‡∏¥‡∏ó (Zero Margin) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ Canvas ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
- **Ghost-Free Segmentation:** ‡πÉ‡∏ä‡πâ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏° Hybrid (YOLOv8-seg + OpenCV Refinement) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î Noise ‡πÅ‡∏•‡∏∞ "‡πÑ‡∏ü‡∏•‡πå‡∏ú‡∏µ" ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
- **Contextual Gemini Translation:** ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡πà‡∏á Prompt ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏â‡∏•‡∏≤‡∏î‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ (‡∏°‡∏±‡∏á‡∏á‡∏∞/‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£/‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£)

## ÔøΩ Security Features

- ‚úÖ **Secure API Key Storage:** Gemini API Key ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ô Main Process ‡πÑ‡∏°‡πà expose ‡∏ó‡∏µ‡πà Frontend
- ‚úÖ **IPC Whitelist:** ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ channels ‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Renderer
- ‚úÖ **Input Validation:** ‡∏ó‡∏∏‡∏Å IPC handler ‡∏°‡∏µ validation ‡πÅ‡∏•‡∏∞ sanitization
- ‚úÖ **Electron Best Practices:** contextIsolation, sandbox, webSecurity enabled

## ÔøΩüõ† Tech Stack (The Clean Core)

| Layer | Technology |
|-------|------------|
| **Runtime** | Electron + Vite |
| **Frontend** | React (Functional Components + Hooks) |
| **Styling** | Tailwind CSS |
| **State** | Zustand (Fast, Minimalist) |
| **AI/OCR** | Tesseract.js (Local OCR) |
| **Translation** | Google Gemini API (via Secure IPC) |
| **Database** | better-sqlite3 (WAL Mode) |
| **PDF** | react-pdf + pdf-lib |

## üèóÔ∏è Project Structure

```text
/
‚îú‚îÄ‚îÄ electron/               # Main process & Preload scripts
‚îÇ   ‚îú‚îÄ‚îÄ main.ts            # IPC handlers, Gemini API (secure)
‚îÇ   ‚îú‚îÄ‚îÄ preload.ts         # Whitelist-based API exposure
‚îÇ   ‚îî‚îÄ‚îÄ db.ts              # SQLite with WAL & Indexes
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ components/         # React UI Components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ErrorBoundary.tsx  # Error handling
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home/           # Upload screen
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Layout/         # Sidebar components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OCR/            # OCR Text Layer panel
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PDF/            # PDF viewer canvas
‚îÇ   ‚îú‚îÄ‚îÄ services/           # Business Logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dbService.ts    # Database operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pdf/            # PDF processing
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ vision/         # OCR Web Workers
‚îÇ   ‚îú‚îÄ‚îÄ stores/             # Zustand Stores
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useProjectStore.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useUIStore.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useSegmentationStore.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useOCRTextLayerStore.ts
‚îÇ   ‚îú‚îÄ‚îÄ types/              # TypeScript Types
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.ts        # Core types
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ electron.d.ts   # Electron API declarations
‚îÇ   ‚îî‚îÄ‚îÄ App.tsx             # Main Shell
‚îî‚îÄ‚îÄ public/                 # Static assets
```

## üöÄ Quick Start

### 1. Install Dependencies

```bash
npm install
```

### 2. Environment Setup

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env` ‡∏ó‡∏µ‡πà Root:

```env
GEMINI_API_KEY=your_api_key_here
```

> ‚ö†Ô∏è **SECURITY:** ‡πÑ‡∏ü‡∏•‡πå `.env` ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô `.gitignore` - ‡∏≠‡∏¢‡πà‡∏≤ commit ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ!

### 3. Development

```bash
npm run dev
```

### 4. Build for Production

```bash
npm run build
```

## ü§ù Roadmap

- [x] **Phase 1:** UI Shell & Toggle Sidebar
- [x] **Phase 2:** Canvas Engine & Image Loading
- [x] **Phase 3:** OCR Text Layer Integration
- [x] **Phase 4:** Security Hardening (v1.1.0)
- [ ] **Phase 5:** Vision Worker & YOLO Integration
- [ ] **Phase 6:** Advanced Segmentation V3
- [ ] **Phase 7:** Gemini Translation Bridge (Advanced)

## üìù Documentation

- [ARCHITECTURE.md](./ARCHITECTURE.md) - ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞ Workflow
- [CHANGELOG.md](./CHANGELOG.md) - ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á

## üêõ Known Issues

‡∏î‡∏π [Issues](https://github.com/Zerozs01/PDF_Translator/issues) ‡∏ö‡∏ô GitHub

## üìú License

ISC License
